version: '3'
services:
  dashboard:
    image: transmute/sidetree-dashboard:latest
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      # These values all corrspond to the ones found in .env.ganache.example
      - NEXT_PUBLIC_LOGO_TEXT_DARK=${NEXT_PUBLIC_LOGO_TEXT_DARK}
      - NEXT_PUBLIC_LOGO_TEXT_LIGHT=${NEXT_PUBLIC_LOGO_TEXT_LIGHT}
      - NEXT_PUBLIC_SIDETREE_METHOD=${NEXT_PUBLIC_SIDETREE_METHOD}
      - NEXT_PUBLIC_OPERATOR=${NEXT_PUBLIC_OPERATOR}
      - NEXT_PUBLIC_METHOD=${NEXT_PUBLIC_METHOD}
      - NEXT_PUBLIC_DESCRIPTION=${NEXT_PUBLIC_DESCRIPTION}
      - MONGO_DB_CONNECTION_STRING=${MONGO_DB_CONNECTION_STRING}
      - DATABASE_NAME=${DATABASE_NAME}
      - MAX_CONCURRENT_DOWNLOADS=${MAX_CONCURRENT_DOWNLOADS}
      - BATCH_INTERVAL_IN_SECONDS=${BATCH_INTERVAL_IN_SECONDS}
      - OBSERVING_INTERVAL_IN_SECONDS=${OBSERVING_INTERVAL_IN_SECONDS}
      - ELEMENT_CONTENT_ADDRESSABLE_STORE_SERVICE_URI=${ELEMENT_CONTENT_ADDRESSABLE_STORE_SERVICE_URI}
      - ELEMENT_ANCHOR_CONTRACT=${ELEMENT_ANCHOR_CONTRACT}
      - ETHEREUM_RPC_URL={ETHEREUM_RPC_URL}
      - ETHEREUM_PROVIDER=${ETHEREUM_PROVIDER}
      - ETHEREUM_MNEMONIC={ETHEREUM_MNEMONIC}
    ports:
      - '8080:8080'
